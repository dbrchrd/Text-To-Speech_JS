<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
  <title>Text To Speech</title>
</head>

<body>
  <form class="form" action="/hear" method="GET" onsubmit="(e) => {e.preventDefault();}">
    <div class="language">
      <label for="lang">Language:</label>
      <select name="lang" id="lang"></select>
    </div>
    <textarea name="text" rows="8"></textarea>
    <input type="submit" value="SUBMIT">
  </form>
</body>

<script type="text/javascript">
  const languages = [
    ["af", null, "Afrikaans"],
    ["sq", "al", "Albanian"],
    ["ar", null, "Arabic"],
    ["hy", "am", "Armenian"],
    ["ca", "ca", "Catalan"],
    ["zh", "cn", "Chinese"],
    ["zh-cn", "cn", "Chinese (Mandarin/China)"],
    ["zh-tw", "tw", "Chinese (Mandarin/Taiwan)"],
    ["zh-yue", "cn", "Chinese (Cantonese)"],
    ["hr", "hr", "Croatian"],
    ["cs", "cz", "Czech"],
    ["da", "dk", "Danish"],
    ["nl", "nl", "Dutch"],
    ["en", "gb", "English"],
    ["en-au", "au", "English (Australia)"],
    ["en-uk", "gb", "English (United Kingdom)"],
    ["en-us", "us", "English (United States)"],
    ["eo", null, "Esperanto"],
    ["fi", "fi", "Finnish"],
    ["fr", "fr", "French"],
    ["de", "de", "German"],
    ["el", "gr", "Greek"],
    ["ht", "ht", "Haitian Creole"],
    ["hi", "in", "Hindi"],
    ["hu", "hu", "Hungarian"],
    ["is", "is", "Icelandic"],
    ["id", "id", "Indonesian"],
    ["it", "it", "Italian"],
    ["ja", "jp", "Japanese"],
    ["ko", "kr", "Korean"],
    ["la", null, "Latin"],
    ["lv", "lv", "Latvian"],
    ["mk", "mk", "Macedonian"],
    ["no", "no", "Norwegian"],
    ["pl", "pl", "Polish"],
    ["pt", "pt", "Portuguese"],
    ["pt-br", "br", "Portuguese (Brazil)"],
    ["ro", "ro", "Romanian"],
    ["ru", "ru", "Russian"],
    ["sr", "rs", "Serbian"],
    ["sk", "sk", "Slovak"],
    ["es", "es", "Spanish"],
    ["es-es", "es", "Spanish (Spain)"],
    ["es-us", "us", "Spanish (United States)"],
    ["sw", null, "Swahili"],
    ["sv", "se", "Swedish"],
    ["ta", null, "Tamil"],
    ["th", "th", "Thai"],
    ["tr", "tr", "Turkish"],
    ["vi", "vn", "Vietnamese"],
    ["cy", "gb-wls", "Welsh"]
  ]
  let browser_language = navigator.languages;
  languages.forEach((item, i) => {
    let opt = document.createElement("option");
    opt.value = item[0]; opt.innerHTML = item[2];
    document.querySelector("#lang").add(opt, null);
    browser_language.forEach((atem, a) => {
      if (atem.includes(item[0])) {
        opt.selected = true;
      }
    });
  });
    // console.log(navigator.languages);
</script>

</html>